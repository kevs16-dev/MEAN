"use strict";(self.webpackChunkmantis_free_version=self.webpackChunkmantis_free_version||[]).push([[880],{1880:(v,p,s)=>{s.d(p,{AuthLoginComponent:()=>P});var d=s(3049),c=s(4341),g=s(9769),l=s(375),e=s(5547),h=s(7705),_=s(7355),f=s(9864);const M=()=>["/register"],C=()=>["/forgot-password"];function b(i,u){if(1&i&&(e.j41(0,"div",38),e.nrm(1,"i",39),e.EFF(2),e.k0s()),2&i){const o=e.XpG();e.Y8G("ngClass",o.alertType),e.R7$(2),e.SpI(" ",o.message," ")}}function O(i,u){if(1&i&&(e.j41(0,"div",28)(1,"div",40)(2,"button",41),e.nrm(3,"img",42),e.j41(4,"span",43),e.EFF(5),e.k0s()()()()),2&i){const o=u.$implicit;e.R7$(3),e.Y8G("src",e.mNQ(o.image),e.B4B)("alt",e.mNQ(o.name)),e.R7$(2),e.SpI(" ",o.name," ")}}let P=(()=>{class i{constructor(o,r,t){this.authService=o,this.router=r,this.cdr=t,this.email="",this.password="",this.rememberMe="",this.message="",this.loading=!1,this.alertType="alert-danger",this.SignInOptions=[{image:"assets/images/authentication/google.svg",name:"Google"},{image:"assets/images/authentication/twitter.svg",name:"Twitter"},{image:"assets/images/authentication/facebook.svg",name:"Facebook"}]}get canSubmit(){return!!this.email&&!!this.password}submit(o){!this.canSubmit||this.loading||(this.loading=!0,this.message="",this.authService.connexion({email:this.email,password:this.password}).subscribe({next:r=>{const t=r?.user?.role;let a="/dashboard/default";"CLIENT"===t?a="/client/home":"ADMIN"===t?a="/admin/home":"BOUTIQUE"===t&&(a="/boutique/home"),this.message="Connexion r\xe9ussie. Redirection\u2026",this.alertType="alert-success",this.cdr.detectChanges(),setTimeout(()=>this.router.navigate([a]),1200)},error:r=>{this.message=r.error.message,this.alertType="alert-error",this.loading=!1,this.cdr.detectChanges()}}))}static{this.\u0275fac=function(r){return new(r||i)(e.rXU(_.u),e.rXU(f.Ix),e.rXU(h.gRc))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-auth-login"]],decls:59,vars:10,consts:[["form","ngForm"],[1,"auth-main"],[1,"auth-wrapper","v3"],[1,"auth-form"],[1,"auth-header"],["href","javascript:"],["src","assets/images/logo-dark.svg","alt","logo img"],[1,"card","my-5"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-end","mb-4"],[1,"mb-0"],[1,"link-primary",3,"routerLink"],["class","custom-alert",3,"ngClass",4,"ngIf"],[1,"form-group","mb-3"],["for","email",1,"form-label"],["type","email","id","email","placeholder","Adresse email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","placeholder","Mot de passe","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","mt-1","justify-content-between","align-items-center"],[1,"form-check"],["type","checkbox","id","rememberMe","name","rememberMe",1,"form-check-input","input-primary",3,"ngModelChange","ngModel"],["for","rememberMe",1,"form-check-label","text-muted"],[1,"text-secondary","f-w-400","mb-0"],[3,"routerLink"],[1,"d-grid","mt-4"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"saprator","mt-3"],[1,"row"],[1,"col-4"],[1,"auth-footer","row"],[1,"col","my-1"],[1,"m-0"],["href","https://codedthemes.com/","target","_blank"],[1,"col-auto","my-1"],[1,"list-inline","footer-link","mb-0"],[1,"list-inline-item"],["href","https://codedthemes.com/privacy-policy/","target","_blank"],["href","https://codedthemes.support-hub.io/","target","_blank"],[1,"custom-alert",3,"ngClass"],[1,"ti","ti-info-circle","me-2"],[1,"d-grid"],["type","button",1,"btn","mt-2","btn-light-primary","bg-light","text-muted"],[3,"src","alt"],[1,"d-none","d-sm-inline-block"]],template:function(r,t){if(1&r){const a=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"a",5),e.nrm(5,"img",6),e.k0s()(),e.j41(6,"div",7)(7,"div",8)(8,"form",null,0)(10,"div",9)(11,"h3",10)(12,"b"),e.EFF(13,"Connexion"),e.k0s()(),e.j41(14,"a",11),e.EFF(15," Pas encore de compte ? "),e.k0s()(),e.DNE(16,b,3,2,"div",12),e.j41(17,"div",13)(18,"label",14),e.EFF(19,"Adresse email"),e.k0s(),e.j41(20,"input",15),e.mxI("ngModelChange",function(n){return l.eBV(a),e.DH7(t.email,n)||(t.email=n),l.Njj(n)}),e.k0s()(),e.j41(21,"div",13)(22,"label",16),e.EFF(23,"Mot de passe"),e.k0s(),e.j41(24,"input",17),e.mxI("ngModelChange",function(n){return l.eBV(a),e.DH7(t.password,n)||(t.password=n),l.Njj(n)}),e.k0s()(),e.j41(25,"div",18)(26,"div",19)(27,"input",20),e.mxI("ngModelChange",function(n){return l.eBV(a),e.DH7(t.rememberMe,n)||(t.rememberMe=n),l.Njj(n)}),e.k0s(),e.j41(28,"label",21),e.EFF(29," Se souvenir de moi "),e.k0s()(),e.j41(30,"h6",22)(31,"a",23),e.EFF(32," Mot de passe oubli\xe9 ? "),e.k0s()()(),e.j41(33,"div",24)(34,"button",25),e.bIt("click",function(){l.eBV(a);const n=e.sdS(9);return l.Njj(t.submit(n))}),e.EFF(35),e.k0s()()(),e.j41(36,"div",26)(37,"span"),e.EFF(38,"Ou se connecter avec"),e.k0s()(),e.j41(39,"div",27),e.Z7z(40,O,6,5,"div",28,e.fX1),e.k0s()()(),e.j41(42,"div",29)(43,"div",30)(44,"p",31),e.EFF(45," Copyright \xa9 "),e.j41(46,"a",32),e.EFF(47," CodedThemes "),e.k0s()()(),e.j41(48,"div",33)(49,"ul",34)(50,"li",35)(51,"a",32),e.EFF(52,"Accueil"),e.k0s()(),e.j41(53,"li",35)(54,"a",36),e.EFF(55," Politique de confidentialit\xe9 "),e.k0s()(),e.j41(56,"li",35)(57,"a",37),e.EFF(58," Contact "),e.k0s()()()()()()()()}if(2&r){const a=e.sdS(9);e.R7$(14),e.Y8G("routerLink",e.lJ4(8,M)),e.R7$(2),e.Y8G("ngIf",t.message),e.R7$(4),e.R50("ngModel",t.email),e.R7$(4),e.R50("ngModel",t.password),e.R7$(3),e.R50("ngModel",t.rememberMe),e.R7$(4),e.Y8G("routerLink",e.lJ4(9,C)),e.R7$(3),e.Y8G("disabled",t.loading||a.invalid),e.R7$(),e.SpI(" ",t.loading?"Connexion en cours\u2026":"Se connecter"," "),e.R7$(5),e.Dyx(t.SignInOptions)}},dependencies:[d.iI,d.Wk,c.YN,c.qT,c.me,c.Zm,c.BC,c.cb,c.YS,c.vS,c.cV,g.MD,g.YU,g.bT],styles:['.auth-main[_ngcontent-%COMP%]{position:relative}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{height:100%;width:100%;min-height:100vh}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .saprator[_ngcontent-%COMP%]{position:relative;display:flex;align-self:center;justify-content:center}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .saprator[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:0;width:100%;height:1px;background:var(--bs-border-color);z-index:1}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .saprator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;padding:8px 24px;background:#fff;z-index:5;text-transform:capitalize;color:#262626;font-weight:500}.auth-main[_ngcontent-%COMP%]   .auth-wrapper.v3[_ngcontent-%COMP%]{display:flex;align-items:center}.auth-main[_ngcontent-%COMP%]   .auth-wrapper.v3[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]{flex-direction:column;background:url(img-auth-bg.451c08c4dea3118c.svg);min-height:100vh;padding:24px;background-repeat:no-repeat;background-size:auto 82%;background-position:left bottom;position:relative;justify-content:space-between}.auth-main[_ngcontent-%COMP%]   .auth-wrapper.v3[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;z-index:5}.auth-main[_ngcontent-%COMP%]   .auth-wrapper.v3[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#fff3;backdrop-filter:blur(16px)}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-grow:1}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%;max-width:495px;box-shadow:none}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{padding-left:15px}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-form[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:underline}.auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-footer[_ngcontent-%COMP%], .auth-main[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between}.custom-alert[_ngcontent-%COMP%]{border-radius:12px;padding:14px 16px;margin-bottom:20px;font-size:.9rem;font-weight:500;display:flex;align-items:center;animation:fadeIn .3s ease-in-out}.custom-alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.alert-success[_ngcontent-%COMP%]{background:#1987541a;color:#198754;border:1px solid rgba(25,135,84,.2)}.alert-error[_ngcontent-%COMP%]{background:#dc35451a;color:#dc3545;border:1px solid rgba(220,53,69,.2)}.alert-warning[_ngcontent-%COMP%]{background:#ffc1071a;color:#ffc107;border:1px solid rgba(255,193,7,.2)}form[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;margin:0 -12px 0 0;cursor:pointer;padding:12px;font-size:18px;position:absolute;top:203px;right:45px}']})}}return i})()}}]);