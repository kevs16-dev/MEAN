<div class="auth-main">
  <div class="auth-wrapper v3">
    <div class="auth-form">
      <div class="auth-header">
        <a href="javascript:"><img src="assets/images/logo-dark.svg" alt="logo img" /></a>
      </div>
      <div class="card my-5">
        <div class="card-body">

          <form #form="ngForm">
            <div class="d-flex justify-content-between align-items-end mb-4">
              <h3 class="mb-0"><b>Inscription</b></h3>
              <a [routerLink]="['/login']" class="link-primary">Déjà un compte ?</a>
            </div>

            <div *ngIf="message" class="custom-alert" [ngClass]="alertType">
              <i class="ti ti-info-circle me-2"></i>
              {{ message }}
            </div>

            <div class="form-group mb-3">
              <label class="form-label" for="username">Nom d'utilisateur</label>
              <input type="text" class="form-control" id="username" placeholder="Nom d'utilisateur"
                     [(ngModel)]="username" name="username" required />
            </div>
            <div class="form-group mb-3">
              <label class="form-label" for="emailAddress">Adresse email *</label>
              <input type="email" class="form-control" id="emailAddress" placeholder="Adresse email"
                     [(ngModel)]="email" name="email" required />
            </div>

            <div class="form-group mb-2">
              <label class="form-label" for="password">Mot de passe</label>
              <input type="password" class="form-control" id="password" placeholder="Mot de passe"
                     [(ngModel)]="password" name="password" required />
              <div class="password-strength mt-2" *ngIf="password">
                <div class="strength-bar">
                  <span class="strength-fill" [style.width.%]="(passwordStrength / 4) * 100"
                        [class]="'level-' + passwordStrength"></span>
                </div>
                <span class="strength-label" [class.text-success]="passwordStrength >= 3"
                      [class.text-warning]="passwordStrength === 2" [class.text-danger]="passwordStrength <= 1">
                  {{ passwordStrengthLabel }}
                </span>
              </div>
              <ul class="password-rules list-unstyled mt-2 mb-0 small text-muted">
                <li *ngFor="let rule of passwordRules" [class.rule-ok]="rule.ok">
                  <i class="ti me-1" [class.ti-circle-check]="rule.ok" [class.ti-circle-x]="!rule.ok"></i>
                  {{ rule.label }}
                </li>
              </ul>
            </div>

            <div class="form-group mb-3">
              <label class="form-label" for="passwordConfirm">Confirmer le mot de passe</label>
              <input type="password" class="form-control" id="passwordConfirm" placeholder="Confirmer le mot de passe"
                     [(ngModel)]="passwordConfirm" name="passwordConfirm" required />
              <div class="small" *ngIf="passwordConfirm && !passwordsMatch" class="text-danger">
                Les mots de passe ne correspondent pas
              </div>
              <div class="small" *ngIf="passwordConfirm && passwordsMatch" class="text-success">
                <i class="ti ti-circle-check me-1"></i>Correspondance
              </div>
            </div>

            <p class="mt-3 text-sm text-muted">
              En vous inscrivant, vous acceptez nos
              <a href="javascript:" class="text-primary">Conditions d'utilisation</a>
              et notre
              <a href="javascript:" class="text-primary">Politique de confidentialité</a>.
            </p>
            <div class="d-grid mt-3">
              <button type="button" class="btn btn-primary" (click)="submit(form)"
                      [disabled]="loading || !canSubmit">
                {{ loading ? 'Création en cours…' : 'Créer mon compte' }}
              </button>
            </div>
          </form>

          <div class="saprator mt-3">
            <span>Ou s'inscrire avec</span>
          </div>
          <div class="row">
            @for (item of SignUpOptions; track item) {
              <div class="col-4">
                <div class="d-grid">
                  <button type="button" class="btn mt-2 btn-light-primary bg-light text-muted">
                    <img src="{{ item.image }}" alt="{{ item.name }}" />
                    <span class="d-none d-sm-inline-block">{{ item.name }}</span>
                  </button>
                </div>
              </div>
            }
          </div>
        </div>
      </div>
      <div class="auth-footer row">
        <div class="col my-1">
          <p class="m-0">
            Copyright ©
            <a href="https://codedthemes.com/" target="_blank">CodedThemes</a>
          </p>
        </div>
        <div class="col-auto my-1">
          <ul class="list-inline footer-link mb-0">
            <li class="list-inline-item"><a href="https://codedthemes.com/" target="_blank">Home</a></li>
            <li class="list-inline-item"><a href="https://codedthemes.com/privacy-policy/" target="_blank">Privacy Policy</a></li>
            <li class="list-inline-item"><a href="https://codedthemes.support-hub.io/" target="_blank">Contact us</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
